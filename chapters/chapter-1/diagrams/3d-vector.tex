% sets up the perspective from which we are looking at the picture {theta}{phi}
% {theta} defines the rotion by x axis while {phi} defines the rotation by z axis
\tdplotsetmaincoords{60}{120}

\begin{tikzpicture}
    [scale=4,
    tdplot_main_coords,
    axis/.style={->,black,thick},
    vector/.style={-stealth,very thick},
    vector guide/.style={dashed,red,thick}]

    \coordinate (O) at (0, 0, 0);

    % this should serve as our unit vector
    \def\u{0.3} 
    \def\v{0.6}
    % drawing axes
    \draw[axis] (0, 0, 0) -- (1, 0, 0) node[anchor=north east]{$x$};
    \draw[axis] (0, 0, 0) -- (0, 1, 0) node[anchor=north west]{$y$};
    \draw[axis] (0, 0, 0) -- (0, 0, 1) node[anchor=south]{$z$};

    % drawing the components of the vector A: Drawing them first so the unit vectors do appear
    \draw[vector, blue] (O) -- (\v, 0, 0) node[anchor=south east]{$B_x\vec{a}_x$};
    \draw[vector, blue] (O) -- (0, \v, 0) node[anchor=south west]{$B_y\vec{a}_y$};
    \draw[vector, blue] (O) -- (0, 0, \v) node[anchor=south east]{$B_z\vec{a}_z$};

    % drawing the unit vectors
    \draw[vector, magenta] (O) -- (\u, 0, 0) node[anchor=south east]{$\vec{a}_x$};
    \draw[vector, magenta] (O) -- (0, \u, 0) node[anchor=south west]{$\vec{a}_y$};
    \draw[vector, magenta] (O) -- (0, 0, \u) node[anchor=east]{$\vec{a}_z$};

    % drawing the main vector B
    \draw[vector, red] (O) -- (\v, \v, \v) node[anchor=south east]{$\vec{B}$};

    % projection on xy axis
    \draw[vector guide] (\v, 0, 0) -- (\v, \v, 0);
    \draw[vector guide] (0, \v, 0) -- (\v, \v, 0);
    \draw [vector guide] (\v, \v, 0) -- (\v, \v, \v);

    % drawing projection on yz axis
    \draw[vector guide] (0, \v, 0) -- (0, \v, \v);
    \draw[vector guide] (0, 0, \v) -- (0, \v, \v);
    \draw[vector guide] (0, \v, \v) -- (\v, \v, \v);

    % drawing projection on xz axis
    \draw[vector guide] (0, 0, \v) -- (\v, 0, \v);
    \draw[vector guide] (\v, 0, 0) -- (\v, 0, \v);
    \draw[vector guide] (\v, 0, \v) -- (\v, \v, \v);


\end{tikzpicture}